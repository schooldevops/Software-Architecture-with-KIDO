# Retry Pattern

Retry Pattern은 장애 처리 메커니즘 중 하나로, 실패한 요청을 재시도하여 요청이 성공적으로 처리될 때까지 반복하는 패턴입니다. 이 패턴은 분산 시스템에서 매우 유용합니다. 네트워크 지연, 리소스 부족 또는 서버 장애 등으로 인해 요청이 실패할 수 있으며, 이를 처리하기 위해 클라이언트는 일시적으로 재시도를 시도합니다.

대표적인 예로는 네트워크 통신에서 임시적인 장애가 발생했을 때, 클라이언트는 일정 시간 동안 일정한 간격으로 요청을 재시도합니다. 이때 일정 시간 동안 지속적으로 재시도를 시도하면 네트워크 리소스를 낭비할 수 있으므로, 이를 방지하기 위해 일정한 간격으로 요청을 보낼 수 있도록 하는 Throttling and Rate Limiting Pattern과 함께 사용될 수 있습니다.

Retry Pattern의 주요 장점은 다음과 같습니다.

실패한 요청을 재시도하여 시스템의 가용성을 높일 수 있습니다.
임시적인 장애로 인해 요청이 실패하더라도 클라이언트는 적절히 대처하여 서비스를 계속 사용할 수 있습니다.
그러나 Retry Pattern의 단점도 있습니다.

재시도가 너무 많은 경우 서버에 부하를 유발할 수 있습니다.
장애가 지속될 경우 재시도를 계속하면서 시스템 자원을 낭비할 수 있습니다.
따라서, Retry Pattern은 적절하게 구현해야 하며, 최적의 재시도 횟수 및 간격을 설정하는 것이 중요합니다.

---------------------------------------------------------

Retry Pattern은 네트워크 연결 불안정성이나 서비스 일시적 장애 등으로 인해 실패한 요청에 대해 일정 시간 동안 재시도하는 패턴입니다. 이 패턴은 장애 발생 시 서비스를 더욱 견고하게 만들어주고, 서비스의 가용성을 높일 수 있습니다.

대표적인 예시로는 클라우드 서비스에서의 다양한 API 호출이 있습니다. 클라우드 서비스에서는 다양한 이유로 API 호출이 실패할 수 있기 때문에 Retry Pattern을 이용하여 해당 API 호출이 일정 시간 동안 재시도하게 합니다.

Retry Pattern의 베스트 프랙티스는 다음과 같습니다.

실패 원인 파악하기: 실패 원인이 무엇인지 파악하여, 문제를 해결하기 위해 추가적인 조치를 취할 수 있습니다.

백오프 전략 구현하기: 일정 시간 동안 재시도하는 것이 아니라, 재시도 간격을 점점 늘려가는 백오프 전략을 구현하여, 서버에 부하를 줄이고, 더 나은 성능을 보장할 수 있습니다.

최대 재시도 횟수 제한하기: 재시도 횟수를 제한하여, 무한히 재시도하는 것을 방지하고, 불필요한 서버 자원 소모를 막을 수 있습니다.

실패한 요청에 대한 로깅: 재시도를 하는 경우, 실패한 요청에 대한 로깅을 남겨서, 추후 실패 원인 파악을 용이하게 하며, 서비스의 가용성을 향상시키는 데 도움이 됩니다.

Circuit Breaker 패턴과 함께 사용하기: Retry Pattern은 Circuit Breaker 패턴과 함께 사용하여, 서비스의 가용성을 더욱 높일 수 있습니다. Circuit Breaker 패턴은 서비스에 문제가 발생하여 재시도를 할 필요가 없을 경우, 바로 실패를 반환하여 서비스의 가용성을 높입니다.





