# Anti-Corruption Adapter Pattern

Anti-Corruption Adapter Pattern은 서로 다른 시스템 간의 상호 작용에서 발생하는 혼란과 복잡성을 해소하기 위해 사용되는 디자인 패턴 중 하나입니다. 이 패턴은 다른 마이크로서비스 또는 외부 시스템에서 사용되는 용어, 데이터 모델, 프로토콜 등을 현재 시스템에서 사용하는 방식으로 변환하는 방법을 제공합니다.

이 패턴은 보통 다음과 같은 상황에서 사용됩니다.

레거시 시스템과 새로운 시스템 간의 상호 작용에서
서로 다른 조직 또는 팀에서 사용하는 용어, 데이터 모델, 프로토콜 등이 서로 다를 때
외부 API가 변경되어 현재 시스템의 코드에 영향을 미칠 때
Anti-Corruption Adapter 패턴의 주요 아이디어는 인터페이스 또는 계층을 추가하여 새로운 용어, 데이터 모델, 프로토콜 등을 현재 시스템과 완전히 분리하는 것입니다. 이 인터페이스 또는 계층은 새로운 용어를 기존 시스템의 용어로 변환하는 작업을 담당하며, 이를 통해 시스템 간의 상호 작용에서 발생하는 혼란과 복잡성을 줄일 수 있습니다.

대표적인 예로는 기존 서비스를 사용하는 고객 데이터를 새로운 서비스에서 사용해야 하는 경우가 있습니다. 이 경우 Anti-Corruption Adapter를 사용하여 새로운 서비스에서 사용하는 데이터 모델을 기존 서비스에서 사용하는 데이터 모델로 변환할 수 있습니다.

Anti-Corruption Adapter Pattern의 베스트 프랙티스는 다음과 같습니다.

변환 규칙을 일관되게 적용할 수 있도록 표준화된 인터페이스를 사용합니다.
인터페이스는 새로운 시스템과 기존 시스템 사이의 중간 계층으로 작동하며, 변환 규칙이 포함된 코드는 인터페이스 내부에 숨겨져 있습니다.
인터페이스와 기존 시스템 간의 결합을 최소화하여 시스템 간의 종속성을 낮춥니다.
가능한 경우 외부 시스템의 변경에 대한 영향을 최소화하기 위해 변환 규칙을 추상화합니다.

------------------------------------------------------

Anti-Corruption Adapter Pattern은 레거시 시스템과 현대 시스템 사이의 경계 영역에서 발생할 수 있는 문제점을 해결하기 위한 소프트웨어 디자인 패턴입니다.

레거시 시스템은 모델링 방법, 데이터 저장 방법, 프로토콜, 언어 등 다양한 측면에서 현대 시스템과 호환되지 않는 경우가 많습니다. 따라서 이러한 레거시 시스템을 현대 시스템과 통합하려면 레거시 시스템의 인터페이스를 현대 시스템에 맞게 변환해주어야 합니다.

이때, Anti-Corruption Adapter Pattern은 레거시 시스템과 현대 시스템 사이의 인터페이스를 변환해주는 어댑터를 만들어서 사용합니다. 이 어댑터는 레거시 시스템에서 제공하는 인터페이스를 현대 시스템에서 사용할 수 있는 인터페이스로 변환해줍니다. 이를 통해 레거시 시스템과 현대 시스템 간의 호환성 문제를 해결할 수 있습니다.

대표적인 예시로는 엔터프라이즈 서비스 버스(ESB)가 있습니다. ESB는 다양한 애플리케이션과 시스템 간의 통합을 위해 사용되는 소프트웨어입니다. ESB는 Anti-Corruption Adapter 패턴을 사용하여 다른 시스템에서 제공하는 인터페이스를 ESB가 제공하는 인터페이스로 변환해줍니다.

이 패턴의 베스트 프랙티스는 다음과 같습니다.

가능한한 레거시 시스템과의 인터페이스를 최소화하고, 인터페이스를 통일시키는 것이 좋습니다.
Anti-Corruption Adapter를 설계할 때, 레거시 시스템과 현대 시스템 간의 변환 규칙을 명확히 정의해야 합니다.
Anti-Corruption Adapter는 레거시 시스템과의 통신을 책임지기 때문에 안정성과 확장성이 중요합니다. 따라서 고가용성과 확장성을 고려하여 설계해야 합니다.

