# Canary Release Pattern

Canary Release Pattern은 새로운 소프트웨어 버전을 일부 사용자에게 노출하고 이전 버전과 새 버전을 동시에 실행하여 새 버전의 안정성을 테스트하는 배포 전략입니다. 이러한 방식으로 새로운 버전이 전체 시스템에 대해 충분히 검증될 때까지 전체 사용자에게 배포되지 않도록 보호합니다.

대표적인 예시로는 Google, Netflix, Amazon 등의 대규모 서비스가 있습니다. 이러한 서비스는 새로운 버전을 출시하기 전에 일부 사용자에게 노출시켜 먼저 새 버전의 안정성과 성능을 테스트하며, 이후 모든 사용자에게 적용합니다.

베스트 프랙티스로는 다음과 같은 것들이 있습니다.

적은 비율로 새로운 버전을 출시: 대개 5% ~ 10%의 비율로 새로운 버전을 노출시키는 것이 권장됩니다.
모니터링 및 측정: 새로운 버전의 성능 및 안정성을 측정하고 모니터링하여 출시 가능 여부를 결정합니다.
롤백 계획: 새로운 버전의 문제 발생 시 신속하게 롤백할 수 있는 계획을 마련합니다.
환경 분리: 새로운 버전을 배포할 때, 새로운 환경에 배포하여 충돌을 방지합니다.
자동화된 배포 프로세스: 배포 프로세스를 자동화하여 인간의 오류를 최소화하고 안정성을 높입니다.

--------------------------------------
Canary Release Pattern은 새로운 버전의 소프트웨어를 일부 사용자들에게 배포하여 성능, 안정성 및 사용자 반응을 테스트하고, 전체 서비스에 배포하기 전에 문제점을 미리 예방하는 소프트웨어 배포 방식입니다.

대표적인 예로는 Netflix, Amazon, Google 등의 기업에서 사용되며, 대규모 분산 시스템에서 안정적인 배포를 위해 많이 사용됩니다.

Canary Release Pattern의 베스트 프랙티스는 다음과 같습니다.

충분한 사용자 그룹 선택: 충분한 수의 사용자 그룹을 선택하여 일부 사용자들이 새로운 버전을 사용하도록 합니다. 이는 충분한 사용자 범위 내에서 충분한 테스트를 가능하게 합니다.

모니터링: 서비스의 다양한 측면 (성능, 안정성 등)을 모니터링하여 새로운 버전의 출시에 대한 즉각적인 대응이 가능하도록 합니다.

롤백 계획: 배포 후 문제가 발생한 경우, 신속한 대처를 위한 롤백 계획을 미리 수립해둡니다.

자동화: 자동화된 프로세스를 사용하여 새로운 버전의 배포를 자동화하고, 신속하게 롤백을 수행할 수 있도록 합니다.

검증: 새로운 버전을 배포하기 전에 충분한 테스트를 수행하여 문제가 있는지 미리 확인합니다. 이를 위해 자동화된 테스트 도구를 사용하는 것이 좋습니다.

